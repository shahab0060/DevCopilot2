const openCameraBtn=document.getElementById("openCameraBtn"),video=document.getElementById("video"),permissionMessage=document.getElementById("permissionMessage");var modelViewer=document.getElementById("model");async function checkCameraPermissions(){try{const stream=await navigator.mediaDevices.getUserMedia({video:!0});return stream.getTracks().forEach(track=>track.stop()),!0}catch(error){return!1}}async function openCamera(){try{const stream=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});video.srcObject=stream,video.style.display="block",modelViewer.style.display="block",openCameraBtn.style.display="none",permissionMessage.style.display="none"}catch(error){permissionMessage.style.display="block"}}openCameraBtn.addEventListener("click",async()=>{const hasPermission=await checkCameraPermissions();hasPermission?openCamera():(permissionMessage.style.display="block",openCamera())}),document.addEventListener("DOMContentLoaded",async()=>{const hasPermission=await checkCameraPermissions();hasPermission&&openCameraBtn.click()}),document.getElementById("tipsButton").addEventListener("click",(function(){const tipsContainer=document.getElementById("tipsContainer"),tipsButton=document.getElementById("tipsButton");tipsContainer.classList.toggle("d-none"),tipsButton.classList.add("flip"),setTimeout(()=>{tipsButton.classList.remove("flip"),tipsButton.innerHTML=tipsButton.innerHTML.includes("question-circle")?'<i class="bi bi-x-circle"></i>':'<i class="bi bi-question-circle"></i>'},300)})),document.getElementById("closeTipsButton").addEventListener("click",(function(){const tipsContainer=document.getElementById("tipsContainer"),tipsButton=document.getElementById("tipsButton");tipsContainer.classList.add("d-none"),tipsButton.classList.add("flip"),setTimeout(()=>{tipsButton.classList.remove("flip"),tipsButton.innerHTML='<i class="bi bi-question-circle"></i>'},300)})),document.addEventListener("click",(function(event){if(!event.target.closest("#tipsButton")&&!event.target.closest("#tipsContainer")){const tipsContainer=document.getElementById("tipsContainer"),tipsButton=document.getElementById("tipsButton");tipsContainer.classList.contains("d-none")||(tipsContainer.classList.add("d-none"),tipsButton.classList.add("flip"),setTimeout(()=>{tipsButton.classList.remove("flip"),tipsButton.innerHTML='<i class="bi bi-question-circle"></i>'},300))}}));